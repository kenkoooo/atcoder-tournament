(this["webpackJsonpatcoder-tournament"]=this["webpackJsonpatcoder-tournament"]||[]).push([[0],{72:function(e,t,n){e.exports=n(82)},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),i=n.n(o),l=n(57),c=n(63),u=n(119),m=n(116),s=n(124),d=n(120),p=n(84),f=n(107),g=n(114),h=n(103),E=n(19),x=n(9),v=n(25),b=n(121),y=n(4),k=n(115),j=n(117),C=n(118),W=n(122),w=n(123),O=n(44),_=n(45),N=n(104),S=n(46),B=n(105),P=n(47),T=n(106),R=n(43),I=Object(h.a)((function(){return{red:{fontWeight:"bold",color:O.a[500]},orange:{fontWeight:"bold",color:_.a[500]},yellow:{fontWeight:"bold",color:N.a[500]},blue:{fontWeight:"bold",color:S.a[600]},lightBlue:{fontWeight:"bold",color:B.a[200]},green:{fontWeight:"bold",color:P.a[600]},brown:{fontWeight:"bold",color:T.a[400]},grey:{fontWeight:"bold",color:R.a[500]}}})),A=function(e){var t,n=I(),a=e.children,o=e.rating;if(!o)return r.a.createElement("p",null,a);t=o<400?n.grey:o<800?n.brown:o<1200?n.green:o<1600?n.lightBlue:o<2e3?n.blue:o<2400?n.yellow:o<2800?n.orange:n.red;var i=a.length<=13?a:a.slice(0,10)+"...";return r.a.createElement(f.a,{className:t,href:"https://atcoder.jp/users/".concat(a)},i)},L=Object(h.a)({nodeBox:{textShadow:"rgb(34,34,34) 1px 1px 1px",fontFamily:'"Roboto Light", sans-serif',borderWidth:0,borderRadius:"3px",fontSize:"12px",minWidth:"120px",minHeight:"24px",backgroundColor:"#595a5e"},nameContainer:{padding:"3px",margin:0,textAlign:"center"},rankContainer:{padding:"3px",borderWidth:0,borderRadius:"3px",marginLeft:"auto",fontSize:"10px",minWidth:"24px",backgroundColor:function(e){return e.winner?"#f58540":"#828489"}},nodeText:{padding:"3px",margin:0,textAlign:"center"},rankText:{color:"black",textAlign:"center",textShadow:"none"}}),F=function(e){var t=e.user,n=e.rank,a=e.winner,o=L({winner:a});if(!t)return r.a.createElement("div",{className:o.nodeBox},r.a.createElement("p",null,"..."));var i=r.a.createElement("div",{className:o.nameContainer},e.defendingChampion?r.a.createElement(w.a,{title:"\u524d\u56de\u512a\u52dd\u8005"},r.a.createElement("span",{role:"img","aria-label":"king"},"\ud83d\udc51"," ")):null,r.a.createElement(A,{rating:t.rating},t.user_id));if(!n)return r.a.createElement("div",{className:o.nodeBox},i);var l=n>1e5?"-":n;return r.a.createElement(b.a,{display:"flex",justifyContent:"center",className:o.nodeBox},i,r.a.createElement(b.a,{display:"flex",alignItems:"center",justifyContent:"center",className:o.rankContainer},r.a.createElement("div",{className:o.rankText},l)))},D=Object(h.a)((function(){return{item:{display:"flex",flexDirection:"row-reverse","& p":{padding:"3px",margin:0,textShadow:"rgb(34, 34, 34) 1px 1px 1px",fontSize:"14px",fontFamily:'"Roboto Light", sans-serif',borderWidth:0,borderRadius:"3px",minWidth:"100px",textAlign:"center"}},itemChildren:{display:"flex",flexDirection:"column",justifyContent:"center"},itemChild:{display:"flex",alignItems:"flex-start",justifyContent:"flex-end",marginTop:"1px",marginBottom:"1px",position:"relative","&:before":{content:'""',position:"absolute",backgroundColor:"#fff",top:"50%",right:0,transform:"translateX(100%)",width:"calc(".concat("60px"," / 2)"),height:"3px"},"&:after":{content:'""',position:"absolute",backgroundColor:"#fff",top:"50%",right:"calc(-".concat("60px"," / 2)"),height:"calc(50% + ".concat("1px"," * 2)"),width:"3px"},"&:not(:last-child):not(:first-child)":{"&:after":{transform:"translateY(-50%) scaleY(2)"}},"&:last-child":{"&:after":{transform:"translateY(-100%)"}},"&:only-child:after":{display:"none"}},itemParent:{position:"relative",marginLeft:"60px",display:"flex",alignItems:"center","&:after":{position:"absolute",content:'""',width:"calc(".concat("60px"," / 2)"),height:"3px",left:0,top:"50%",backgroundColor:"#fff",transform:"translateX(-100%)"}}}})),J=function e(t){var n,a,o,i,l,c=t.tournament,u=t.depth,m=t.config,s=t.promotedUser,d=D(),p=null===(n=c.user)||void 0===n?void 0:n.user_id;return 0===c.children.length||m.depthLimit<=u?r.a.createElement(F,{user:c.user,rank:c.rank,defendingChampion:(null===(a=c.user)||void 0===a?void 0:a.user_id)===m.defendingChampion,winner:void 0!==s&&(null===(o=c.user)||void 0===o?void 0:o.user_id)===s}):r.a.createElement("div",{className:d.item},r.a.createElement("div",{className:d.itemParent},r.a.createElement(F,{user:c.user,rank:c.rank,defendingChampion:(null===(i=c.user)||void 0===i?void 0:i.user_id)===m.defendingChampion,winner:void 0!==s&&(null===(l=c.user)||void 0===l?void 0:l.user_id)===s})),r.a.createElement("div",{className:d.itemChildren},c.children.map((function(t,n){return r.a.createElement("div",{key:n,className:d.itemChild},r.a.createElement(e,{tournament:t,promotedUser:p,depth:u+1,config:m}))}))))},M=n(64),Y=n(108),z=n(109),H=n(110),U=n(111),X=n(112),G=n(113),q=function(e){var t=e.entry,n=e.maxResultCount;return r.a.createElement(Y.a,null,r.a.createElement(z.a,{align:"right"},"".concat(t.provisional_rank).concat(Z(t.provisional_rank))),r.a.createElement(z.a,null,r.a.createElement(A,{rating:t.user.rating},t.user.user_id)),Array.from(Array(n).keys()).map((function(e,n){var a=t.results[n];return a?r.a.createElement(z.a,{key:n,align:"center"},r.a.createElement(b.a,{display:"flex",justifyContent:"center",flexDirection:"column"},a.opponent&&r.a.createElement(A,{rating:a.opponent.rating},a.opponent.user_id),r.a.createElement("span",null,Q(a.result)),r.a.createElement("span",null,V(a.result)))):r.a.createElement(z.a,{key:n},n+1,"\u56de\u6226")})),r.a.createElement(z.a,{align:"right"},t.win_count),r.a.createElement(z.a,{align:"right"},t.rank_sum))},K=function(e){var t=e.league,n=Math.max.apply(Math,Object(M.a)(t.map((function(e){return e.results.length}))));return r.a.createElement(H.a,null,r.a.createElement(U.a,null,r.a.createElement(X.a,null,r.a.createElement(Y.a,null,r.a.createElement(z.a,{align:"right"},"\u9806\u4f4d"),r.a.createElement(z.a,null,"\u30e6\u30fc\u30b6\u30fc"),Array.from(Array(n).keys()).map((function(e,t){return r.a.createElement(z.a,{key:t,align:"center"},t+1,"\u56de\u6226")})),r.a.createElement(z.a,{align:"right"},"\u52dd\u5229\u6570"),r.a.createElement(z.a,{align:"right"},"\u9806\u4f4d\u5408\u8a08"))),r.a.createElement(G.a,null,e.league.map((function(t){return t.provisional_rank===e.promotionRank?r.a.createElement(a.Fragment,{key:t.user.user_id},r.a.createElement(q,{entry:t,maxResultCount:n}),r.a.createElement(Y.a,null,r.a.createElement(z.a,{colSpan:n+4},"\u6607\u683c\u30e9\u30a4\u30f3"))):t.provisional_rank===e.dropRank?r.a.createElement(a.Fragment,{key:t.user.user_id},r.a.createElement(Y.a,null,r.a.createElement(z.a,{colSpan:n+4},"\u6b8b\u7559\u30e9\u30a4\u30f3")),r.a.createElement(q,{entry:t,maxResultCount:n})):r.a.createElement(q,{entry:t,maxResultCount:n,key:t.user.user_id})})))))},Q=function(e){switch(e.result){case"Win":case"SkipWin":return"\u25cb";case"Lose":case"SkipLose":return"\xd7";case"NotYet":case"Writer":return"-"}},V=function(e){switch(e.result){case"Win":case"Lose":var t=e.rank;return"".concat(t).concat(Z(t));default:return"-"}},Z=function(e){var t=e%10,n=e%100;return 1===t&&11!==n?"st":2===t&&12!==n?"nd":3===t&&13!==n?"rd":"th"},$=n(50),ee=n.n($),te=n(62),ne=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,a,r,o;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://atcoder-tournament.herokuapp.com/api/users").then((function(e){return e.text()}));case 2:return t=e.sent,e.next=5,fetch("./bracket-2.json").then((function(e){return e.text()}));case 5:return a=e.sent,e.next=8,fetch("./ratings.json").then((function(e){return e.text()}));case 8:return r=e.sent,e.next=11,n.e(3).then(n.bind(null,129)).then((function(e){return e.construct_tournament(t,a,r)}));case 11:return o=e.sent,e.abrupt("return",JSON.parse(o));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(e){var t=e.top4;return t?r.a.createElement(g.a,null,Object.entries(t).map((function(e){var t=Object(v.a)(e,2),n=t[0],a=t[1],o="1"===n?"h3":"2"===n?"h4":"h5",i="1"===n?"\u512a\u52dd":"2"===n?"\u6e96\u512a\u52dd":"".concat(n,"\u4f4d");return r.a.createElement(b.a,{m:2,key:n},r.a.createElement(p.a,{variant:o,align:"center",color:"textPrimary"},i),a.map((function(e){return r.a.createElement(p.a,{variant:o,align:"center",color:"textPrimary",key:e.user_id},e.user_id)})))}))):null},re=Object(y.a)((function(){return{root:{minWidth:10},selected:{}}}))(k.a),oe=function(e){var t=Object(a.useState)({}),n=Object(v.a)(t,2),o=n[0],i=n[1],l=Object(a.useState)(0),c=Object(v.a)(l,2),u=c[0],s=c[1],d=Object(a.useState)(!1),f=Object(v.a)(d,2),g=f[0],h=f[1],x=Object.keys(o),y=x[u]?o[x[u]]:null,k=null===y||void 0===y?void 0:y.node,w=null===y||void 0===y?void 0:y.league,O=null===y||void 0===y?void 0:y.defending_champion;Object(a.useEffect)((function(){var t;(t=e.seasonId,"3"===t?ne():fetch("./bracket-".concat(t,".json")).then((function(e){return e.json()})).then((function(e){return e}))).then((function(e){i(e)}))}),[e.seasonId]);var _=g?4:100;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null),r.a.createElement(j.a,{container:!0,justify:"center",direction:"column"},r.a.createElement(p.a,{variant:"h4",align:"center",color:"textPrimary"},"\u7b2c",e.seasonId,"\u671f"),r.a.createElement(p.a,{variant:"h2",align:"center",color:"textPrimary",display:"inline",noWrap:!0},"AtCoder Beginner Contest Tournament"),"3"===e.seasonId&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{component:"h2",variant:"h5",align:"center"},"2021/01/30 19:00 JST \u3006\u5207"),r.a.createElement(p.a,{variant:"h4",align:"center",color:"textPrimary",display:"inline",noWrap:!0},r.a.createElement(C.a,{component:E.b,to:"/register"},"\u767b\u9332"))),r.a.createElement(W.a,{variant:"fullWidth",value:u,onChange:function(e,t){return s(t)},centered:!0},x.map((function(e,t){return r.a.createElement(re,{label:"".concat(e),key:t})}))),x[u]&&r.a.createElement(ae,{top4:o[x[u]].top4}),r.a.createElement(C.a,{onClick:function(){return h(!g)}},g?"\u5168\u3066\u8868\u793a\u3059\u308b":"Top16\u306e\u307f\u8868\u793a\u3059\u308b"),r.a.createElement(b.a,{display:"flex",justifyContent:"center"},k&&r.a.createElement(J,{tournament:k,depth:0,config:{depthLimit:_,defendingChampion:O}})),w&&w.length>0&&r.a.createElement(b.a,{display:"flex",justifyContent:"center",flexDirection:"column"},r.a.createElement(p.a,{variant:"h4",align:"center",color:"textPrimary"},"\u9806\u4f4d\u6c7a\u5b9a\u30ea\u30fc\u30b0"),r.a.createElement(K,{league:w,promotionRank:null===y||void 0===y?void 0:y.promotion_rank,dropRank:null===y||void 0===y?void 0:y.drop_rank}))))},ie=function(){var e=Object(a.useState)(new Map),t=Object(v.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)([]),l=Object(v.a)(i,2),c=l[0],u=l[1];Object(a.useEffect)((function(){fetch("./ratings.json").then((function(e){return e.json()})).then((function(e){return e})).then((function(e){var t=new Map;e.forEach((function(e){var n=e.user_id,a=e.rating;t.set(n,a)})),o(t)}))}),[]),Object(a.useEffect)((function(){fetch("https://atcoder-tournament.herokuapp.com/api/users").then((function(e){return e.json()})).then((function(e){return e})).then((function(e){return u(e)}))}),[]);var s=c.map((function(e){var t;return{rating:null!==(t=n.get(e))&&void 0!==t?t:0,userId:e}}));return s.sort((function(e,t){return t.rating-e.rating})),r.a.createElement(g.a,{maxWidth:"md"},r.a.createElement(m.a,null),r.a.createElement(j.a,{container:!0,justify:"center",direction:"column"},r.a.createElement(p.a,{variant:"h4",align:"center",color:"textPrimary",display:"inline",noWrap:!0},"\u7b2c3\u671fABC\u30c8\u30fc\u30ca\u30e1\u30f3\u30c8"),r.a.createElement(p.a,{component:"h2",variant:"h5",align:"center"},"2021/01/30 19:00 JST \u3006\u5207"),r.a.createElement(p.a,{variant:"h4",align:"center",color:"textPrimary",display:"inline",noWrap:!0},r.a.createElement(C.a,{component:E.b,to:"/register"},"\u767b\u9332")),s.map((function(e){var t=e.userId,n=e.rating;return r.a.createElement(p.a,{key:t,variant:"h6",align:"center",color:"textPrimary",display:"inline",noWrap:!0},r.a.createElement(A,{rating:n},t))}))))},le=Object(c.a)({palette:{type:"dark"}}),ce=Object(h.a)((function(e){return{appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1,textDecoration:"none"},link:{margin:e.spacing(1,1.5)},heroContent:{padding:e.spacing(8,0,6)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:Object(l.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}})),ue=function(){var e=ce();return r.a.createElement(E.a,null,r.a.createElement(u.a,{theme:le},r.a.createElement(m.a,null),r.a.createElement(s.a,{position:"relative",color:"default",elevation:0,className:e.appBar},r.a.createElement(d.a,{className:e.toolbar},r.a.createElement(p.a,{component:E.b,variant:"h6",color:"inherit",noWrap:!0,className:e.toolbarTitle,to:"/"},"ABC \u30c8\u30fc\u30ca\u30e1\u30f3\u30c8"),r.a.createElement("nav",null,r.a.createElement(f.a,{component:E.b,variant:"button",color:"textPrimary",to:"/tournament/1",className:e.link},"\u7b2c1\u671f"),r.a.createElement(f.a,{component:E.b,variant:"button",color:"textPrimary",to:"/tournament/2",className:e.link},"\u7b2c2\u671f"),r.a.createElement(f.a,{component:E.b,variant:"button",color:"textPrimary",to:"/tournament/3",className:e.link},"\u7b2c3\u671f"),r.a.createElement(f.a,{href:"https://github.com/kenkoooo/atcoder-tournament/tree/master/rules",target:"_blank",rel:"noopener noreferrer",variant:"button",color:"textPrimary",className:e.link},"\u30eb\u30fc\u30eb")))),r.a.createElement(g.a,{component:"main",maxWidth:!1},r.a.createElement(x.d,null,r.a.createElement(x.b,{exact:!0,path:"/tournament/:id([0-9]+)",render:function(e){var t=e.match.params.id;return r.a.createElement(oe,{seasonId:null!==t&&void 0!==t?t:3..toString()})}}),r.a.createElement(x.b,{path:"/list"},r.a.createElement(ie,null)),r.a.createElement(x.a,{path:"/",to:"/tournament/".concat(3)})))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ue,null)),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.65970616.chunk.js.map