(this["webpackJsonpatcoder-tournament"]=this["webpackJsonpatcoder-tournament"]||[]).push([[0],{57:function(e,t,n){e.exports=n(70)},62:function(e,t,n){},66:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(22),l=n.n(o),i=n(29),u=n(51),s=n(100),m=n(92),p=n(105),d=n(101),f=n(74),h=n(93),g=n(91),v=n(94),E=n(28),b=n(7),x=(n(62),function(){return c.a.createElement(g.a,{maxWidth:"lg"},c.a.createElement(m.a,null),c.a.createElement(f.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"ABC Tournament \u30eb\u30fc\u30eb"),c.a.createElement(f.a,{variant:"h5",color:"textSecondary",component:"p"},c.a.createElement("ul",null,c.a.createElement("li",null,"ABC \u306e\u7d50\u679c\u3092\u4f7f\u3063\u305f\u30c8\u30fc\u30ca\u30e1\u30f3\u30c8\u6226\u3067\u3059\u3002"),c.a.createElement("li",null,"\u5404\u8a66\u5408\u306f 1 \u5bfe 1 \u3067\u884c\u308f\u308c\u3001AtCoder \u306e ABC \u7d1a\u306e\u30b3\u30f3\u30c6\u30b9\u30c8\u3067\u306e\u9806\u4f4d\u304c\u9ad8\u304b\u3063\u305f\u65b9\u304c\u52dd\u8005\u3068\u306a\u308a\u3001\u6b21\u306e\u8a66\u5408\u306b\u9032\u51fa\u3057\u307e\u3059\u3002"),c.a.createElement("li",null,"ABC\u7d1a\u306e\u30b3\u30f3\u30c6\u30b9\u30c8\u3068\u306f\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u66f4\u65b0\u5bfe\u8c61\u304c 0 - 1999 \u306e\u30b3\u30f3\u30c6\u30b9\u30c8\u3067\u3059\u3002"),c.a.createElement("li",null,"\u540c\u9806\u4f4d\u306e\u5834\u5408\u306f2020\u5e748\u670829\u65e5 19:00 JST\u6642\u70b9\u3067\u306e\u30ec\u30fc\u30c8\u304c\u9ad8\u3044\u65b9\u3092\u52dd\u8005\u3068\u3057\u307e\u3059\u3002"),c.a.createElement("li",null,"\u30b3\u30f3\u30c6\u30b9\u30c8\u306b\u304a\u3044\u3066\u4ee5\u4e0b\u306b\u8a72\u5f53\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u306f (\u30b3\u30f3\u30c6\u30b9\u30c8\u3067\u6b63\u306e\u70b9\u6570\u3092\u53d6\u3063\u305f\u4eba\u6570 + 1) \u4f4d\u3068\u306a\u308a\u307e\u3059\u3002",c.a.createElement("ul",null,c.a.createElement("li",null,"\u30b3\u30f3\u30c6\u30b9\u30c8\u306b\u53c2\u52a0\u767b\u9332\u3057\u3066\u3044\u306a\u3044\u30e6\u30fc\u30b6\u30fc"),c.a.createElement("li",null,"\u30b3\u30f3\u30c6\u30b9\u30c8\u306b\u53c2\u52a0\u767b\u9332\u3057\u305f\u304c1\u56de\u3082\u63d0\u51fa\u3057\u3066\u3044\u306a\u3044\u30e6\u30fc\u30b6\u30fc"),c.a.createElement("li",null,"\u30b3\u30f3\u30c6\u30b9\u30c8\u306b\u53c2\u52a0\u767b\u9332\u3057\u30011\u56de\u4ee5\u4e0a\u63d0\u51fa\u3057\u305f\u304c\u70b9\u6570\u304c\u5f97\u3089\u308c\u306a\u304b\u3063\u305f\u30e6\u30fc\u30b6\u30fc"))),c.a.createElement("li",null,"\u5404\u8a66\u5408\u306e\u5bfe\u8c61\u3068\u306a\u308b ABC \u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002",c.a.createElement("ul",null,c.a.createElement("li",null,"1 \u56de\u6226 -"," ",c.a.createElement(h.a,{href:"https://atcoder.jp/contests/abc177"},"AtCoder Beginner Contest 177")),c.a.createElement("li",null,"2 \u56de\u6226\u4ee5\u964d - AtCoder \u304b\u3089\u30a2\u30ca\u30a6\u30f3\u30b9\u304c\u3042\u308a\u6b21\u7b2c\u66f4\u65b0\u3057\u307e\u3059\u3002"))))))}),y=n(20),j=n(98),k=n(103),B=n(99),C=n(102),w=n(36),O=n(37),S=n(95),I=n(38),N=n(96),A=n(39),T=n(97),M=n(35),P=(n(66),Object(v.a)((function(){return{red:{color:w.a[500]},orange:{color:O.a[500]},yellow:{color:S.a[500]},blue:{color:I.a[800]},lightBlue:{color:N.a[300]},green:{color:A.a[400]},brown:{color:T.a[400]},grey:{color:M.a[500]},nodeText:{padding:"3px",margin:0,backgroundColor:"#7a7b7d",textShadow:"rgb(34,34,34) 1px 1px 1px",fontSize:"14px",fontFamily:'"Roboto Light", sans-serif',borderWidth:0,borderRadius:"3px",minWidth:"120px",textAlign:"center"},rankBadge:{marginLeft:"auto",fontSize:"10px"}}}))),R=function(e){var t,n=P(),a=e.children,r=e.rating;if(!r)return c.a.createElement("p",null,a);t=r<400?n.grey:r<800?n.brown:r<1200?n.green:r<1600?n.lightBlue:r<2e3?n.blue:r<2400?n.yellow:r<2800?n.orange:n.red;var o=a.length<=13?a:a.slice(0,10)+"...";return c.a.createElement(h.a,{className:t,href:"https://atcoder.jp/users/".concat(a)},o)},W=function(e){var t=e.node,n=e.rating,a=P();return t.rank?c.a.createElement(C.a,{display:"flex",justifyContent:"center",className:a.nodeText},c.a.createElement("div",null,c.a.createElement(R,{rating:n},t.name)),c.a.createElement(C.a,{display:"flex",alignItems:"center",className:a.rankBadge},t.rank)):c.a.createElement("div",{className:a.nodeText},c.a.createElement(R,{rating:n},t.name))},D=function e(t){var n=t.node,a=t.getRating,r=a(n.name);return 0===n.children.length?c.a.createElement(W,{node:n,rating:r}):c.a.createElement("div",{className:"item"},c.a.createElement("div",{className:"item-parent"},c.a.createElement(W,{node:n,rating:r})),c.a.createElement("div",{className:"item-children"},n.children.map((function(t,n){return c.a.createElement("div",{key:n,className:"item-child"},c.a.createElement(e,{getRating:a,node:t}))}))))},z=n(43),J=function(e,t){return function e(t,n,a,r){var c=a-n-1,o=t.children.map((function(t){return e(t,n+1,a,r)})),l=[];if(o.forEach((function(e){var t=r(c,e.name);t&&l.push(t)})),0===o.length||o.length!==l.length)return{name:t.name,children:o};var i=o.map((function(e,t){return Object(z.a)(Object(z.a)({},l[t]),e)}));return{name:function(e){return e.sort((function(e,t){return e.rank===t.rank?t.rating-e.rating:e.rank-t.rank}))[0]}(l).userId,children:i}}(e,0,function e(t,n){var a=n;return t.children.forEach((function(t){a=Math.max(e(t,n+1),a)})),a}(e,0),t)},L=function(e){var t=e.atCoderUserIds,n=e.contestResults,a=e.ratingMap,r=t.length>0?function(e){for(var t=1;2*t<=e.length;)t*=2;for(var n=[],a=0;a<t;a++)if(t+a<e.length){var r=e[a],c=e[t+a];n.push({name:"...",children:[{name:c,children:[]},{name:r,children:[]}]})}else n.push({name:e[a],children:[]});for(var o=n;o.length>1;){for(var l=[],i=0;i<o.length;i+=2){var u=o[i];if(i+1===o.length)l.push({name:"...",children:[u]});else{var s=o[i+1];l.push({name:"...",children:[u,s]})}}o=l}return o[0]}(t):{name:"loading",children:[]},o=J(r,(function(e,t){var r,c;if(n&&!(n.length<=e)){var o=n[e].size+1;return{userId:t,rank:null!==(r=n[e].get(t))&&void 0!==r?r:o,rating:null!==(c=null===a||void 0===a?void 0:a.get(t))&&void 0!==c?c:0}}}));return c.a.createElement(D,{getRating:function(e){return null===a||void 0===a?void 0:a.get(e)},node:o})},U=n(13),F=n.n(U),G=n(21);function H(e){return _.apply(this,arguments)}function _(){return(_=Object(G.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./users-".concat(t,".json")).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){function e(){return(e=Object(G.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./ratings.json").then((function(e){return e.json()}));case 2:return t=e.sent,n=new Map,t.forEach((function(e){n.set(e.user_id,e.rating)})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a||(a=function(){return e.apply(this,arguments)}()),a}function K(){return(K=Object(G.a)(F.a.mark((function e(t){var n,a,r,c,o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([q(),H(t)]);case 2:return n=e.sent,a=Object(y.a)(n,2),r=a[0],c=a[1],o=[],c.forEach((function(e){var t=r.get(e);t&&o.push({rating:t,userId:e})})),o.sort((function(e,t){return e.rating===t.rating?e.userId.localeCompare(t.userId):t.rating-e.rating})),e.abrupt("return",o.map((function(e){return e.userId})));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=new Map;function V(e){function t(){return(t=Object(G.a)(F.a.mark((function e(t){var n,a,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./".concat(t,".json")).then((function(e){return e.json()}));case 2:return n=e.sent,a=n.StandingsData,r=new Map,a.forEach((function(e){e.TotalResult.Score>0&&r.set(e.UserScreenName,e.Rank)})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var n=Q.get(e);if(!n){var a=function(e){return t.apply(this,arguments)}(e);return Q.set(e,a),a}return n}function X(){return(X=Object(G.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([V("abc177")]));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=function(e){var t,n=Object(r.useState)([]),a=Object(y.a)(n,2),o=a[0],l=a[1],i=Object(r.useState)(void 0),u=Object(y.a)(i,2),s=u[0],p=u[1],d=Object(r.useState)(void 0),h=Object(y.a)(d,2),g=h[0],v=h[1],E=Object(r.useState)(0),b=Object(y.a)(E,2),x=b[0],w=b[1];Object(r.useEffect)((function(){(function(e){return K.apply(this,arguments)})(e.seasonId).then((function(e){return l(e)}))}),[e.seasonId]),Object(r.useEffect)((function(){s||q().then((function(e){return p(e)})),g||function(){return X.apply(this,arguments)}().then((function(e){return v(e)}))}));for(var O=Math.ceil(o.length/128),S=Math.ceil(o.length/Math.max(O,1)),I=[],N=o.length-1;N>=0;){for(var A=[];N>=0&&A.length<S;)A.push(o[N]),N-=1;I.push(A.reverse())}return I.reverse(),c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null),c.a.createElement(j.a,{container:!0,justify:"center",direction:"column"},c.a.createElement(f.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"AtCoder Beginner Contest Tournament"),c.a.createElement(f.a,{component:"h4",variant:"h4",align:"center",color:"textPrimary",gutterBottom:!0},"\u30b7\u30fc\u30ba\u30f3 1"),c.a.createElement(f.a,{component:"div",variant:"body1",align:"center",color:"textPrimary",gutterBottom:!0},"\u53c2\u52a0\u4eba\u6570: ".concat(o.length)),c.a.createElement(k.a,{value:x,onChange:function(e,t){return w(t)},centered:!0},I.map((function(e,t){return c.a.createElement(B.a,{label:"CLASS ".concat((n=t,0===n?"A":n<3?"B".concat(n):n<7?"C".concat(n-2):"D".concat(n-6))),key:t});var n}))),c.a.createElement(C.a,{display:"flex",justifyContent:"center"},c.a.createElement(L,{atCoderUserIds:null!==(t=I[x])&&void 0!==t?t:[],ratingMap:s,contestResults:g}))))},Z=Object(u.a)({palette:{type:"dark"}}),$=Object(v.a)((function(e){return{appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1,textDecoration:"none"},link:{margin:e.spacing(1,1.5)},heroContent:{padding:e.spacing(8,0,6)},cardHeader:{backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:Object(i.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}})),ee=function(){var e=$(),t=Date.now()/1e3;return c.a.createElement(E.a,null,c.a.createElement(s.a,{theme:Z},c.a.createElement(m.a,null),c.a.createElement(p.a,{position:"static",color:"default",elevation:0,className:e.appBar},c.a.createElement(d.a,{className:e.toolbar},c.a.createElement(f.a,{component:E.b,variant:"h6",color:"inherit",noWrap:!0,className:e.toolbarTitle,to:"/"},"ABC \u30c8\u30fc\u30ca\u30e1\u30f3\u30c8"),c.a.createElement("nav",null,t<1598695200&&c.a.createElement(h.a,{component:E.b,variant:"button",color:"textPrimary",to:"/submit",className:e.link},"\u767b\u9332"),c.a.createElement(h.a,{component:E.b,variant:"button",color:"textPrimary",to:"/rule",className:e.link},"\u30eb\u30fc\u30eb")))),c.a.createElement(g.a,{component:"main",maxWidth:!1},c.a.createElement(b.d,null,c.a.createElement(b.b,{exact:!0,path:"/tournament/:id([0-9]+)",render:function(e){var t=e.match.params.id;return c.a.createElement(Y,{seasonId:null!==t&&void 0!==t?t:1..toString()})}}),c.a.createElement(b.b,{path:"/rule"},c.a.createElement(x,null)),c.a.createElement(b.a,{path:"/",to:"/tournament/".concat(1)})))))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ee,null)),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.d6ad954b.chunk.js.map